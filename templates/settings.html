{% extends 'base.html' %}
{% block title %}ุงูุฅุนุฏุงุฏุงุช{% endblock %}
{% block content %}
<h1 class="mb-4">โ๏ธ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู</h1>

<div class="row">
  <!-- Database Info -->
  <div class="col-md-6 mb-4">
    <div class="card">
      <div class="card-header bg-primary text-white">
        <h5 class="mb-0">๐ ูุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช</h5>
      </div>
      <div class="card-body">
        <table class="table table-sm">
          <tr>
            <th>ุญุฌู ูุงุนุฏุฉ ุงูุจูุงูุงุช:</th>
            <td>{{ "%.2f"|format(db_size) }} MB</td>
          </tr>
          <tr>
            <th>ุนุฏุฏ ุงูููุธููู:</th>
            <td>{{ counts.agents }}</td>
          </tr>
          <tr>
            <th>ุนุฏุฏ ุงููุดุชุฑูุงุช:</th>
            <td>{{ counts.purchases }}</td>
          </tr>
          <tr>
            <th>ุนุฏุฏ ุงููุฏุงุฎูู:</th>
            <td>{{ counts.income }}</td>
          </tr>
          <tr>
            <th>ุนุฏุฏ ุงูููุงู:</th>
            <td>{{ counts.tasks }}</td>
          </tr>
          <tr>
            <th>ุนุฏุฏ ุงูุณุฌูุงุช:</th>
            <td>{{ counts.logs }}</td>
          </tr>
          <tr>
            <th>ุงููููุงุช ุงููุฑููุนุฉ:</th>
            <td>{{ counts.files }}</td>
          </tr>
        </table>
      </div>
    </div>
  </div>

  <!-- Backup -->
  <div class="col-md-6 mb-4">
    <div class="card">
      <div class="card-header bg-success text-white">
        <h5 class="mb-0">๐พ ุงููุณุฎ ุงูุงุญุชูุงุทู</h5>
      </div>
      <div class="card-body">
        <p>ูู ุจุชุญููู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช</p>
        <form method="post">
          <input type="hidden" name="action" value="backup">
          <button type="submit" class="btn btn-success">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
              <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
              <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
            </svg>
            ุชุญููู ูุณุฎุฉ ุงุญุชูุงุทูุฉ
          </button>
        </form>
        
        <div class="alert alert-warning mt-3 mb-0">
          <small><strong>ููุงุญุธุฉ:</strong> ุงุญูุธ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ูู ููุงู ุขูู</small>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Application Info -->
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header bg-info text-white">
        <h5 class="mb-0">โน๏ธ ูุนูููุงุช ุงูุชุทุจูู</h5>
      </div>
      <div class="card-body">
        <div class="row">
          <div class="col-md-6">
            <h6>ุงููุธุงู</h6>
            <ul>
              <li>ุงููุณุฎุฉ: 1.0</li>
              <li>Framework: Flask 2.3.3</li>
              <li>Database: SQLite</li>
              <li>Python: 3.9+</li>
            </ul>
          </div>
          <div class="col-md-6">
            <h6>ุงูููุฒุงุช</h6>
            <ul>
              <li>โ ุฅุฏุงุฑุฉ ุงูููุธููู</li>
              <li>โ ุชุชุจุน ุงููุดุชุฑูุงุช ูุงููุฏุงุฎูู</li>
              <li>โ ุงูููุงู ูุงูุชูุงุฑูุฑ</li>
              <li>โ ุชุญูููุงุช ุงูุฃุฏุงุก</li>
              <li>โ ุชุตุฏูุฑ Excel ุดูุฑู</li>
              <li>โ API ููุชูุงูู ุงูุฎุงุฑุฌู</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="mt-3">
  <a href="/admin" class="btn btn-secondary">โ ุงูุนูุฏุฉ ูููุญุฉ ุงูุชุญูู</a>
  <a href="/change_password" class="btn btn-warning">๐ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ</a>
</div>

{% endblock %}
